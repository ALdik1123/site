<!DOCTYPE html>
<html lang="ru" data-lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>RealtyKZ — Элитная недвижимость Казахстана 2025</title>
  <meta name="description" content="Продажа и аренда премиальной недвижимости в Алматы, Астане и по всему Казахстану" />
  
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&family=Playfair+Display:wght@700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"/>
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.4/dist/aos.css" />
  <link rel="stylesheet" href="css/style.css?v=2025" />
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
</head>
<body>

<header>
  <div class="container header-flex">
    <div class="logo">Realty<span class="accent">KZ</span></div>
    <nav>
      <ul>
        <li><a onclick="instantScroll('#home')">Главная</a></li>
        <li><a onclick="instantScroll('#catalog')">Продажа</a></li>
        <li><a onclick="instantScroll('#rental')">Аренда</a></li>
        <li><a onclick="instantScroll('#about')">О нас</a></li>
        <li><a onclick="instantScroll('#contact')">Контакты</a></li>
        <li id="adminLink" style="display:none"><button class="admin-btn" onclick="openAdminPanel()">Admin Panel</button></li>
        <li id="profileLink" style="display:none"><button onclick="openProfile()">Профиль</button></li>
        <li id="loginLink"><button onclick="openLoginModal()">Войти</button></li>
        <li id="logoutLink" style="display:none"><button onclick="logout()">Выйти</button></li>
      </ul>
    </nav>
    <div class="lang">
      <button class="active" onclick="setLang('ru')">RU</button>
      <button onclick="setLang('kk')">KZ</button>
    </div>
  </div>
</header>

<section class="hero animated-gradient" id="home">
  <div class="particles"></div>
  <div class="slides">
    <div class="slide active" style="background-image:url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=1920')"></div>
    <div class="slide" style="background-image:url('https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=1920')"></div>
    <div class="slide" style="background-image:url('https://images.unsplash.com/photo-1600563438938-a9a27216b4dc?w=1920')"></div>
    <div class="slide" style="background-image:url('https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=1920')"></div>
    <div class="slide" style="background-image:url('https://images.unsplash.com/photo-1580587774340-be6161a56a0c?w=1920')"></div>
  </div>
  <div class="container hero-content" data-aos="fade-up">
    <h1 class="typewriter ru">Ваш дом мечты уже ждёт вас</h1>
    <h1 class="typewriter kk" style="display:none">Армандаған үйіңіз сізді күтіп тұр</h1>
    <p class="ru">Элитная недвижимость в лучших локациях Казахстана</p>
    <p class="kk" style="display:none">Қазақстанның үздік жерлеріндегі элиталық жылжымайтын мүлік</p>
    <div class="hero-buttons">
      <button class="btn primary" onclick="instantScroll('#catalog')">Купить</button>
      <button class="btn success" onclick="instantScroll('#rental')">Арендовать</button>
    </div>
  </div>
</section>

<section id="catalog" class="section">
  <div class="container">
    <h2 class="section-title" data-aos="fade-down"><span class="ru">Продажа недвижимости</span><span class="kk">Жылжымайтын мүлік сату</span></h2>
    <div class="filters" data-aos="fade-up">
      <input type="text" id="searchSale" placeholder="Поиск..." oninput="render('sale')">
    </div>
    <div class="grid" id="saleCards"></div>
  </div>
</section>

<section id="rental" class="section bg-light">
  <div class="container">
    <h2 class="section-title" data-aos="fade-down"><span class="ru">Аренда недвижимости</span><span class="kk">Жалға беру</span></h2>
    <div class="filters" data-aos="fade-up">
      <input type="text" id="searchRental" placeholder="Поиск..." oninput="render('rental')">
    </div>
    <div class="grid" id="rentalCards"></div>
  </div>
</section>

<section id="about" class="section dark">
  <div class="container">
    <h2 class="section-title" data-aos="fade-down"><span class="ru">О нас</span><span class="kk">Біз туралы</span></h2>
    <p class="about-text ru" data-aos="zoom-in">RealtyKZ — лидер в элитной недвижимости Казахстана с 2010 года.</p>
    <p class="about-text kk" style="display:none" data-aos="zoom-in">RealtyKZ — 2010 жылдан бері Қазақстандағы элиталық жылжымайтын мүліктің көшбасшысы.</p>
    <div class="benefits-grid">
      <div class="glass-card" data-aos="flip-left" data-tilt><i class="fas fa-trophy"></i><br><span class="ru">15 лет опыта</span><span class="kk">15 жыл тәжірибе</span></div>
      <div class="glass-card" data-aos="flip-left" data-aos-delay="200" data-tilt><i class="fas fa-shield-alt"></i><br><span class="ru">100% чистота сделок</span><span class="kk">100% таза мәмілелер</span></div>
      <div class="glass-card" data-aos="flip-left" data-aos-delay="400" data-tilt><i class="fas fa-headset"></i><br><span class="ru">Поддержка 24/7</span><span class="kk">24/7 қолдау</span></div>
    </div>
  </div>
</section>

<section id="contact" class="section">
  <div class="container">
    <h2 class="section-title" data-aos="fade-down"><span class="ru">Контакты</span><span class="kk">Байланыс</span></h2>
    <form id="contactForm" data-aos="fade-up" class="contact-form" onsubmit="submitRequest(event)">
      <div class="form-group">
        <label for="name"><span class="ru">Имя</span><span class="kk">Аты</span></label>
        <input type="text" id="name" placeholder="Ваше имя" required>
      </div>
      <div class="form-group">
        <label for="phone"><span class="ru">Телефон</span><span class="kk">Телефон</span></label>
        <input type="tel" id="phone" placeholder="+7 (___) ___-__-__" required pattern="[+]?[0-9\s\-\(\)]{10,20}">
      </div>
      <div class="form-group">
        <label for="email"><span class="ru">Email</span><span class="kk">Email</span></label>
        <input type="email" id="email" placeholder="your@email.com" required>
      </div>
      <div class="form-group">
        <label for="message"><span class="ru">Сообщение</span><span class="kk">Хабарлама</span></label>
        <textarea id="message" placeholder="Ваше сообщение..." rows="5" required></textarea>
      </div>
      <button class="btn primary" type="submit">Отправить</button>
    </form>
  </div>
</section>

<!-- Полноэкранный раздел для деталей объявления -->
<section id="propertyDetail" class="section" style="display:none; padding:60px 0; background:#f8fafc;">
  <div class="container">
    <button class="btn secondary" onclick="backToList()" style="margin-bottom:20px;"><i class="fas fa-arrow-left"></i> Назад</button>
    <div id="propertyDetails"></div>
    <div id="propertyActions" style="margin-top:30px;text-align:center;display:flex;gap:15px;justify-content:center;">
      <button class="btn success" onclick="contactWhatsapp()"><i class="fab fa-whatsapp"></i> Написать в WhatsApp</button>
      <button class="btn primary" onclick="openRequestModal()"><i class="fas fa-envelope"></i> Оставить заявку</button>
      <button class="btn secondary" onclick="shareProperty()"><i class="fas fa-share-alt"></i> Поделиться</button>
      <button class="btn danger" onclick="saveFavorite()"><i class="fas fa-heart"></i> В избранное</button>
    </div>
  </div>
</section>

<div class="whatsapp-float" onclick="window.open('https://wa.me/77714829862','_blank')">
  <i class="fab fa-whatsapp"></i>
</div>

<div id="cursor-trail"></div>

<!-- Модалы -->
<div id="loginModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('loginModal')">&times;</span>
    <h2><span class="ru">Вход</span><span class="kk">Кіру</span></h2>
    <div class="form-group">
      <label for="loginUsername"><span class="ru">Логин</span><span class="kk">Логин</span></label>
      <input id="loginUsername" placeholder="Ваш логин">
    </div>
    <div class="form-group">
      <label for="loginPassword"><span class="ru">Пароль</span><span class="kk">Құпия сөз</span></label>
      <input id="loginPassword" type="password" placeholder="Пароль">
    </div>
    <button class="btn primary" onclick="login()">Войти</button>
    <p><span class="ru">Нет аккаунта?</span><span class="kk">Аккаунт жоқ па?</span> <a onclick="openRegisterModal()">Зарегистрироваться</a></p>
  </div>
</div>

<div id="registerModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('registerModal')">&times;</span>
    <h2><span class="ru">Регистрация</span><span class="kk">Тіркелу</span></h2>
    <div class="form-group">
      <label for="regUsername"><span class="ru">Логин</span><span class="kk">Логин</span></label>
      <input id="regUsername" placeholder="Ваш логин">
    </div>
    <div class="form-group">
      <label for="regPassword"><span class="ru">Пароль</span><span class="kk">Құпия сөз</span></label>
      <input id="regPassword" type="password" placeholder="Пароль">
    </div>
    <div class="form-group">
      <label for="regRole"><span class="ru">Роль</span><span class="kk">Рөл</span></label>
      <select id="regRole"><option value="user">Пользователь</option><option value="admin">Админ</option></select>
    </div>
    <button class="btn primary" onclick="register()">Зарегистрироваться</button>
  </div>
</div>

<div id="adminPanel" class="modal">
  <div class="modal-content large">
    <span class="close" onclick="closeModal('adminPanel')">&times;</span>
    <h2><span class="ru">Админ Панель</span><span class="kk">Әкімші Панелі</span></h2>
    <div id="adminTabs">
      <button class="active" onclick="showAdminTab('addProp')">Добавить Объект</button>
      <button onclick="showAdminTab('editProps')">Редактировать Объекты</button>
      <button onclick="showAdminTab('requests')">Заявки</button>
    </div>
    <div id="addPropTab">
      <div class="form-group">
        <label for="adminTitleRu">Название RU</label>
        <input id="adminTitleRu" placeholder="Название на русском">
      </div>
      <div class="form-group">
        <label for="adminTitleKk">Название KK</label>
        <input id="adminTitleKk" placeholder="Атауы қазақша">
      </div>
      <div class="form-group">
        <label for="adminPrice">Цена</label>
        <input id="adminPrice" type="number" placeholder="Цена в ₸">
      </div>
      <div class="form-group">
        <label for="adminDesc">Описание</label>
        <textarea id="adminDesc" placeholder="Полное описание" rows="4"></textarea>
      </div>
      <div class="form-group">
        <label for="adminLocation">Локация</label>
        <input id="adminLocation" placeholder="Город, район">
      </div>
      <div class="form-group">
        <label for="adminYear">Год постройки</label>
        <input id="adminYear" type="number" placeholder="Год">
      </div>
      <div class="form-group">
        <label for="adminFeatures">Особенности (площадь, комнаты, этаж/земля через ,)</label>
        <input id="adminFeatures" placeholder="250 м², 5 комнат, 20 этаж">
      </div>
      <div class="form-group">
        <label for="adminImg">Изображения (через ,)</label>
        <input id="adminImg" placeholder="URL1, URL2">
      </div>
      <div class="form-group">
        <label for="adminTags">Теги (через ,)</label>
        <input id="adminTags" placeholder="Пентхаус, Новострой">
      </div>
      <div class="form-group">
        <label for="adminCategory">Категория</label>
        <select id="adminCategory"><option value="sale">Продажа</option><option value="rental">Аренда</option></select>
      </div>
      <div class="form-group">
        <label for="adminType">Тип</label>
        <select id="adminType"><option value="apartment">Квартира</option><option value="house">Дом</option><option value="commercial">Коммерческая</option></select>
      </div>
      <button class="btn primary" onclick="addProperty()">Добавить</button>
    </div>
    <div id="editPropsTab" style="display:none">
      <h3>Редактировать Объекты</h3>
      <div id="editPropsList"></div>
    </div>
    <div id="requestsTab" style="display:none">
      <h3>Заявки</h3>
      <div id="requestsList"></div>
    </div>
  </div>
</div>
  

<div id="requestModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('requestModal')">&times;</span>
    <h2>Оставить заявку</h2>
    <form onsubmit="submitPropertyRequest(event)">
      <input type="hidden" id="requestPropId">
      <div class="form-group">
        <label for="requestName">Имя</label>
        <input id="requestName" placeholder="Ваше имя" required>
      </div>
      <div class="form-group">
        <label for="requestPhone">Телефон</label>
        <input id="requestPhone" type="tel" placeholder="+7 (___) ___-__-__" required>
      </div>
      <div class="form-group">
        <label for="requestMessage">Сообщение</label>
        <textarea id="requestMessage" placeholder="Ваш вопрос или комментарий" rows="3"></textarea>
      </div>
      <button class="btn primary" type="submit">Отправить</button>
    </form>
  </div>
</div>

<div id="editPropertyModal" class="modal">
  <div class="modal-content large">
    <span class="close" onclick="closeModal('editPropertyModal')">&times;</span>
    <h2>Редактировать Объект</h2>
    <div id="editPropertyForm"></div>
  </div>
</div>

<script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
<script src="js/tilt.js"></script>
<script src="js/data.js"></script>
<script src="js/main.js"></script>
<script src="js/admin.js"></script>
</body>
</html>

/* Мобильная адаптация (телефоны) */
@media (max-width: 768px) {
  /* Общие фиксы */
  .container {
    padding: 0 12px;
  }

  /* Хедер: бургер-меню и компактность */
  header {
    padding: 12px 0;
  }
  .header-flex {
    gap: 10px;
    flex-wrap: wrap;
  }
  .logo {
    font-size: 24px;
  }
  nav ul {
    display: none;
    flex-direction: column;
    gap: 12px;
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: rgba(255, 255, 255, 0.98);
    padding: 20px 15px;
    border-radius: 0 0 16px 16px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
  }
  nav ul.active {
    display: flex;
  }
  nav a, nav button {
    font-size: 16px;
    padding: 8px 0;
    text-align: center;
  }
  .menu-toggle {
    display: flex;
    order: 2;
    margin-left: auto;
  }
  .lang {
    order: 3;
    margin-top: 10px;
  }
  .lang button {
    padding: 6px 12px;
    font-size: 14px;
  }

  /* Hero: высота и контент */
  .hero {
    min-height: 80vh;
    height: auto;
    padding: 80px 0 40px;
  }
  .hero-content {
    padding: 0 10px;
    text-align: center;
  }
  .typewriter {
    font-size: 1.8rem;
    border-right-width: 2px;
  }
  .hero-buttons {
    flex-direction: column;
    gap: 12px;
    margin-top: 24px;
  }
  .hero-buttons .btn {
    width: 100%;
    max-width: 280px;
    padding: 14px;
    font-size: 16px;
  }

  /* Секции: отступы и заголовки */
  .section {
    padding: 60px 0;
  }
  .section-title {
    font-size: 2rem;
    margin-bottom: 30px;
  }
  .section-title::after {
    width: 80px;
    height: 4px;
    bottom: -12px;
  }

  /* Карточки: одна колонка, без hover-эффектов */
  .grid {
    grid-template-columns: 1fr;
    gap: 20px;
  }
  .card {
    animation: none;
  }
  .card img {
    height: 200px;
  }
  .card-body {
    padding: 20px;
  }
  .price {
    font-size: 24px;
  }

  /* Benefits: одна колонка */
  .benefits-grid {
    grid-template-columns: 1fr;
    gap: 16px;
  }
  .benefit-card {
    padding: 24px 16px;
  }

  /* Кнопка WhatsApp */
  .whatsapp-float {
    width: 52px;
    height: 52px;
    bottom: 20px;
    right: 20px;
    font-size: 28px;
  }

  /* Формы: полная ширина */
  .contact-form {
    max-width: 100%;
  }
  .form-group input,
  .form-group textarea,
  .form-group select {
    padding: 12px;
    font-size: 16px;
  }

  /* Модальные окна */
  .modal-content {
    width: 95%;
    max-width: 400px;
    padding: 24px 16px;
    margin: 10px;
  }
  .large {
    max-width: 90%;
  }

  /* Детали объекта */
  #propertyDetail .container {
    padding-top: 70px;
  }
  #propertyDetail h2 {
    font-size: 1.8rem;
  }
  #propertyDetail .price {
    font-size: 24px;
  }
  .gallery-grid {
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: 12px;
  }
  .gallery-grid img {
    height: 140px;
  }
  #propertyActions {
    flex-direction: column;
    gap: 10px;
  }
  #propertyActions .btn {
    width: 100%;
    padding: 14px;
    font-size: 16px;
  }

  /* Админка: кнопки */
  #adminTabs {
    flex-wrap: wrap;
    gap: 8px;
  }
  #adminTabs button {
    padding: 10px 12px;
    font-size: 14px;
    flex: 1;
    min-width: 120px;
  }

  /* Убираем hover-эффекты на тач-устройствах */
  .card:hover, .btn:hover, .glass-card:hover {
    transform: none;
    box-shadow: none;
  }
}

/* Бургер-меню: анимация */
.menu-toggle {
  display: none;
  flex-direction: column;
  justify-content: space-around;
  width: 28px;
  height: 22px;
  cursor: pointer;
  z-index: 1001;
}
.menu-toggle span {
  height: 3px;
  width: 100%;
  background: #333;
  border-radius: 10px;
  transition: all 0.3s;
}
.menu-toggle.active span:nth-child(1) {
  transform: rotate(45deg) translate(4px, 4px);
}
.menu-toggle.active span:nth-child(2) {
  opacity: 0;
}
.menu-toggle.active span:nth-child(3) {
  transform: rotate(-45deg) translate(6px, -5px);
}

/* Плавность для устройств с reduced motion */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}
